window.nba=function(){"use strict";var a={},b="1fteH6HOqQXmgMnAhhek0W6_BDvVMNlBu25SCCNruYbc",c="724315897",d="https://docs.google.com/spreadsheets/d/"+b+"/gviz/tq?tqx=out:json&gid="+c,e={AGL:"Agility",CLT:"Clutch",CND:"Conditioning",COE:"Closeout Effectiveness",CTS:"Contested Shot",CTV:"Court Vision",DBE:"Defensive Boxout Effectiveness",DBS:"Dribble Speed",DDF:"Drawing Defensive Foul",DEF:"Defense",DKR:"Dunk Rating",DLF:"Dunk vs Layup Frequency",DOF:"Drawing Offensive Foul",DPF:"Defensive Post Footwork",DPS:"Defensive Post Strength",DRI:"Dribbling",DRQ:"Defensive Rebounding IQ",DRS:"Defensive Rebounding Strength",DSE:"Defensive Sink or Swim Effectiveness",DTA:"Double Team Ability",DTC:"Double Team Composure",DVG:"Dribble Off vs Go Away from Pick",FBA:"Fast Break Anticipation",FMT:"Foul Mistakes",FSS:"First Step",FTA:"Free Throw Ability",FTS:"Fight Through Screen",GTG:"Go-To Guy",HDF:"Help Defense",HES:"Hedging the Screen",HIP:"Hands in Post",HOP:"Hands on Perimeter",HSE:"Help Side Effectiveness",HST:"Hustle",INT:"Interception",ISA:"Inside Shooting Ability",ISL:"Inside Shooting Likelihood",LDA:"Layup Dunk Aggressiveness",LIT:"Layup in Traffic",MSA:"Midrange Shooting Ability",MSL:"Midrange Shooting Likelihood",MTT:"Mental Toughness",OBE:"Offensive Boxout Effectiveness",OEF:"On Ball Effectiveness",OPF:"Offensive Post Footwork",ORQ:"Offensive Rebounding IQ",ORS:"Offensive Rebounding Strength",OSE:"Offensive Sink or Swim Effectiveness",OSL:"Outside Shooting Likelihood",PAS:"Passing",PEF:"Penetration Effectiveness",PSA:"Pass Accuracy",PST:"Post Strength",PTS:"Post Savvy",PVD:"Pull Up vs Drive to Basket",QKN:"Quickness",SBL:"Shot Block",SHT:"Shooting",SMT:"Shooters Mentality",SPD:"Speed",SSK:"Shot Streak",STA:"Shot Alter",STK:"Streak",STL:"Steal",STR:"Strength",STS:"Setting Screens",STT:"Shooting Touch",SWC:"Scoring with Contact",TEN:"Tenacity",TPT:"3 Pointer",TTE:"Triple Threat Effectiveness",VERT:"Vertical"},f={name:"A",pos:"B",team:"C",type:"G",program:"H",lineup:"I",ovr:"M",spd:"N",dri:"O",tpt:"P",sht:"Q",def:"R",pas:"S",id:"CR"},g="nbalive_excl_stats",h="nbalive_compare",i="nbalive_query",j=["SPD","DRI","TPT","SHT","DEF","PAS"],k="SELECT A, B, C, G, I, M, N, O, P, Q, R, S, CR",l=!1,m=!1;return a.init=function(){var b=cookie.get(g),c=cookie.get(i);cookie.set(h,JSON.stringify({})),b||cookie.set(g,JSON.stringify({})),c||cookie.set(i,JSON.stringify({})),a.initTabs(),google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(a.gInit)},a.initTabs=function(){var b,c,d=document.querySelectorAll(".tab-nav li a");for(b=0,c=d.length;b<c;b++)a.addEvent("click",d[b],a.toggleTabNav,!1)},a.toggleTabNav=function(b){b.preventDefault();var c,d,e,f=this.parentElement.parentElement.querySelectorAll("a"),g=this.parentElement.getAttribute("id"),h=this.parentElement,i=document.getElementById(g.replace("tab-nav-",""));for(c=0,d=f.length;c<d;c++)a.removeClass(f[c].parentElement,"active"),e=document.getElementById(f[c].parentElement.getAttribute("id").replace("tab-nav-","")),a.removeClass(e,"active");a.addClass(h,"active"),a.addClass(i,"active")},a.addOptionsBox=function(){var b,c=JSON.parse(cookie.get(g)),d=document.querySelector("#options .tab-inner #switch");for(b in e){var f=document.createElement("div"),h=document.createElement("input"),i=document.createElement("label"),j=document.createElement("span"),k=document.createElement("span"),l=document.createElement("abbr");i.setAttribute("class","switch"),j.setAttribute("class","switch-label"),j.setAttribute("data-on","SHOW"),j.setAttribute("data-off","HIDE"),k.setAttribute("class","switch-handle"),h.setAttribute("type","checkbox"),h.setAttribute("value",b),h.setAttribute("name","options[]"),h.setAttribute("class","switch-input"),b in c==!1&&(h.checked=!0),f.setAttribute("class","switch-box"),l.setAttribute("title",e[b]),l.innerHTML=b,a.addEvent("change",h,a.checkOnChange,!1),i.appendChild(h),i.appendChild(j),i.appendChild(k),f.appendChild(l),f.appendChild(i),d.appendChild(f)}},a.checkOnChange=function(a){var b=JSON.parse(cookie.get(g)),c=a.currentTarget.value;!0===this.checked?c in b==!0&&delete b[c]:c in b==!1&&(b[c]=c),cookie.set(g,JSON.stringify(b))},a.gInit=function(){var b=cookie.get(i);m=!1,l=!1,a.requestData(b.query?b.query:"");var c=document.getElementById("search-submit");a.addEvent("click",c,a.processForm,!1)},a.processForm=function(b){b.preventDefault();var c,d=new FormData(document.forms.namedItem("form")),e=document.getElementById("loader"),g=!1,h=k,i={name:d.get("name"),ovr:[d.get("ovr_min"),d.get("ovr_max")],spd:d.get("spd_min"),dri:d.get("dri_min"),tpt:d.get("tpt_min"),sht:d.get("sht_min"),def:d.get("def_min"),pas:d.get("pas_min"),team:d.get("team"),lineup:d.get("lineup"),pos:d.get("pos"),type:d.get("type"),program:d.get("program"),orderby:d.get("orderby"),order:d.get("order")},j=["spd","dri","tpt","sht","def","pas"],n=document.getElementById("player-list"),o=document.getElementById("player-single");a.removeClass(e,"hidden"),o&&a.addClass(o,"hidden"),n&&a.addClass(n,"hidden");for(c in i)if(!1===a.empty(i[c]))if("order"===c)h+=" "+i[c];else if("orderby"===c)h+=" ORDER BY "+f[i[c]];else if(g?h+=" AND ":(h+=" WHERE ",g=!0),j.indexOf(c)>-1)h+=f[c]+" >= "+i[c];else if("ovr"===c){var p=i[c][0]?i[c][0]:0,q=i[c][1]?i[c][1]:100;h+=f.ovr+" >= "+p+" AND "+f.ovr+" <= "+q}else{var r=i[c];"name"===c&&(r=a.ucWords(r)),h+=f[c]+' CONTAINS "'+r+'"'}m=!1,l=!1,a.requestData(h)},a.requestData=function(b){var c=document.getElementById("player-list"),e=document.getElementById("loader");c&&a.addClass(c,"hidden"),e&&a.removeClass(e,"hidden");var f=new google.visualization.Query(d);b=b?b:k,f.setQuery(b),f.send(a.buildResponse),m||l||cookie.set(i,JSON.stringify({query:b}))},a.buildResponse=function(b){if(b.isError())return void alert("Error in query: "+b.getMessage()+" "+b.getDetailedMessage());var c=b.getDataTable(),d=c.toJSON();m?a.buildTableSingle(JSON.parse(d)):l?a.buildTableCompare(JSON.parse(d)):a.buildTable(JSON.parse(d))},a.buildTable=function(b){var c,d,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x="",y="",z="";m=document.createElement("table"),m.setAttribute("id","player-list"),n=document.createElement("thead"),n.className="player-list-head",o=document.createElement("tbody"),o.className="player-list-body";for(g in b.cols)if("GAME OVR"===b.cols[g].label)x+="<th>OVERALL</th>";else{if(j.indexOf(b.cols[g].label)!==-1||"ID"===b.cols[g].label)continue;x+="<th>"+b.cols[g].label+"</th>"}for(x+="<th>COMPARE</th>",x+="<th></th>",n.innerHTML="<tr>"+x+"</tr>",h=0,k=b.rows.length;h<k;h++){for(y="",z="",w=b.rows[h].c.length-7,v="",i=0,l=b.rows[h].c.length;i<l;i++)p=b.cols[i].label.toString().replace(" ","-"),q=null!==b.rows[h].c[i]?b.rows[h].c[i].v:"",i>=w?"id"===p.toLowerCase()?v=q:(z+='<div class="stats ability">',z+='<div class="stats-detail"><div class="stats-label">'+e[p]+"</div>",z+='<div class="stats-value">'+q+"</div></div>",z+='<div class="stats-bar">',z+='<div class="stats-bar-value" style="width:'+q+'%;"></div>',z+="</div></div>"):(y+='<td class="',y+=p.toLowerCase(),q?(y+=a.hasClassRow(p.toLowerCase())?" "+q.toString().toLowerCase().replace(" ","-")+'">':'">',y+="<span>"+q+"</span>"):y+='">',y+="</td>");t=a.getCompareAction(),u=a.getViewAction(),r=document.createElement("tr"),s=document.createElement("tr"),s.className="data hidden",s.innerHTML="<td colspan=8>"+z+"</td>",r.innerHTML=y,r.setAttribute("data-id",v),r.appendChild(t),r.appendChild(u),o.appendChild(r),o.appendChild(s)}m.appendChild(n),m.appendChild(o),c=document.querySelector(".content .inner"),f=document.getElementById("player-list"),d=document.getElementById("loader"),f&&c.removeChild(f),a.addClass(d,"hidden"),c.appendChild(m)},a.getViewAction=function(){var b,c,d,e;return d=document.createElement("td"),d.className="actions",b=document.createElement("a"),b.className="quick-view",b.innerHTML='<i class="icon-chevron-down"></i>',b.setAttribute("title","Quick View"),a.addEvent("click",b,a.quickViewRow,!0),c=document.createElement("a"),c.className="full-view",c.innerHTML='<i class="icon-eye"></i>',c.setAttribute("title","View Full Stats"),a.addEvent("click",c,a.processRow,!0),e=document.createElement("a"),e.className="compare disabled",e.innerHTML='<i class="icon-compare"></i>',e.setAttribute("title","View Comparison"),a.addEvent("click",e,a.comparePlayer,!0),d.appendChild(b),d.appendChild(c),d.appendChild(e),d},a.getCompareAction=function(){var b,c,d,e,f;return b=document.createElement("td"),b.className="compares",c=document.createElement("input"),c.className="compare",c.setAttribute("type","checkbox"),c.setAttribute("value",!0),c.setAttribute("name","compare[]"),c.setAttribute("class","switch-input switch-compare"),d=document.createElement("label"),e=document.createElement("span"),f=document.createElement("span"),d.setAttribute("class","switch"),e.setAttribute("class","switch-label"),e.setAttribute("data-on","ON"),e.setAttribute("data-off","OFF"),f.setAttribute("class","switch-handle"),d.appendChild(c),d.appendChild(e),d.appendChild(f),b.appendChild(d),a.addEvent("click",c,a.addToCompare,!0),b},a.addToCompare=function(b){var c,d,e=this.checked,f=!1,g=document.querySelectorAll("[data-compare]"),h=g.length;e?h<4?(this.setAttribute("data-compare",""),h>0&&!f&&(c=this.parentNode.parentNode.nextElementSibling,d=document.querySelector("a.compare:not(.disabled)"),d&&a.addClass(d,"disabled"),a.removeClass(c.querySelector("a.compare"),"disabled"))):(b.preventDefault(),alert("Comparison only up to 4 players"),f=!0):this.hasAttribute("data-compare")&&(this.removeAttribute("data-compare"),c=document.querySelector("a.compare:not(.disabled)"),c&&a.addClass(c,"disabled"),g=document.querySelectorAll("[data-compare]"),h=g.length,h>1&&(d=g[h-1].parentNode.parentNode.nextElementSibling.querySelector(".compare"),d&&a.removeClass(d,"disabled")))},a.buildTableSingle=function(b){var c,d,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w="",x=[];if(d=document.getElementById("loader"),c=document.querySelector(".content .inner"),i=document.createElement("div"),i.setAttribute("id","player-single"),k=document.createElement("div"),k.className="player-single-head",l=document.createElement("div"),l.className="player-single-body",b.rows){for(f=0,g=b.rows[0].c.length;f<g;f++)if(m=b.cols[f].label.toString().replace(" ","-"),n=null!==b.rows[0].c[f]?b.rows[0].c[f].v:"",e[m])j.indexOf(m)>-1&&x.indexOf(m)===-1?x.push(m):(h="",j.indexOf(m)>-1&&(h+=" ability"),w+='<div class="stats'+h+'">',w+='<div class="stats-detail"><div class="stats-label">'+e[m]+"</div>",w+='<div class="stats-value">'+n+"</div></div>",w+='<div class="stats-bar">',w+='<div class="stats-bar-value" style="width:'+n+'%;"></div>',w+="</div></div>");else switch(m.toLowerCase()){case"player-name":o='<h2 class="name">'+n+"</h2>";break;case"game-ovr":var y="bronze";parseInt(n)>83?y="elite":parseInt(n)>72?y="gold":parseInt(n)>62&&(y="silver"),p='<div class="ovr '+b.rows[0].c[6].v.toString().toLowerCase()+'">'+n+"</div>";break;case"position":q='<div class="position">'+n+"</div>";break;case"lineup":u='<div class="lineup '+n.toString().toLowerCase().replace(" ","-")+'">'+n+"</div>";break;case"team":t='<div class="team"><span class="stats-label">Team</span><span class="stats-value '+n.toString().toLowerCase()+'"></span></div>';break;case"wt":s='<div class="weight"><span class="stats-label">Weight</span><span class="stats-value">'+n+"</span></div>";break;case"ht":r='<div class="height"><span class="stats-label">Height</span><span class="stats-value">'+n+"</span></div>";break;case"program":v='<div class="program"><span class="stats-label">Program</span><span class="stats-value">'+n+"</span></div>";break;default:continue}k.innerHTML='<div class="pos-lineup">'+q+u+"</div>"+o+'<div class="desc">'+v+s+r+t+"</div>"+p,a.getBackButton(k,"single")}l.innerHTML=w,i.appendChild(k),i.appendChild(l),c.appendChild(i),a.addClass(d,"hidden")},a.getBackButton=function(b,c){var d=document.createElement("a");d.innerHTML="Back",d.className="back back-"+c,a.addEvent("click",d,a.back,!1),b.appendChild(d)},a.back=function(b){b.preventDefault();var c=document.getElementById("loader"),d=document.getElementById("player-list");if(a.removeClass(c,"hidden"),this.className.indexOf("back-single")>-1){var e=document.querySelector("#player-single");e.parentNode.removeChild(e),window.setTimeout(function(){a.addClass(c,"hidden"),a.removeClass(d,"hidden")},30)}else if(this.className.indexOf("back-compare")){var f=document.querySelector("#player-compare");f.parentNode.removeChild(f),window.setTimeout(function(){a.addClass(c,"hidden"),a.removeClass(d,"hidden")},30)}},a.comparePlayer=function(){if(this.className.indexOf("disabled")===-1){var b,c,d,e,g,h=document.querySelectorAll("[data-compare]");for(b="SELECT * WHERE",c=0,d=h.length;c<d;c++)e=h[c].parentNode.parentNode.parentNode,g=e.getAttribute("data-id"),b+=" "+f.id+' = "'+g+'"',b+=c<d-1?" OR ":" LIMIT "+d;l=!0,m=!1,a.requestData(b)}},a.getDescHTML=function(a,b){var c="";switch(a.toLowerCase()){case"player-name":c='<h2 class="name">'+b+"</h2>";break;case"game-ovr":var d="bronze";parseInt(b)>83?d="elite":parseInt(b)>72?d="gold":parseInt(b)>62&&(d="silver"),c='<div class="ovr '+d+'">'+b+"</div>";break;case"position":c='<div class="position">'+b+"</div>";break;case"lineup":c='<div class="lineup '+b.toString().toLowerCase().replace(" ","-")+'">'+b+"</div>";break;case"team":c='<div class="team"><span class="stats-label">Team</span><span class="stats-value '+b.toString().toLowerCase()+'"></span></div>';break;case"wt":c='<div class="weight"><span class="stats-label">Weight</span><span class="stats-value">'+b+"</span></div>";break;case"ht":c='<div class="height"><span class="stats-label">Height</span><span class="stats-value">'+b+"</span></div>";break;case"program":c='<div class="program"><span class="stats-label">Program</span><span class="stats-value">'+b+"</span></div>"}return c},a.buildTableCompare=function(b){var c,d,f,g,h,i,k,l=b.rows.length,m='<div class="cf"><div class="pos-lineup">{position}{lineup}</div>{player-name}</div><div class="desc">{program}{wt}{ht}{team}</div>{game-ovr}',n=document.createElement("div"),o=document.createElement("div"),p=document.createElement("div"),q=document.querySelector(".content .inner"),r=document.getElementById("loader"),s=[],t=[],u=[];for(n.setAttribute("id","player-compare"),o.setAttribute("id","player-compare-desc"),p.setAttribute("id","player-compare-stats"),n.className="cols-"+l,g=0,h=b.cols.length;g<h;g++)if(i=b.cols[g].label.toString().replace(" ","-"),e[i])if(j.indexOf(i)>-1&&u.indexOf(i)===-1)u.push(i);else{for(f=0;f<l;f++)k=null!==b.rows[f].c[g]?b.rows[f].c[g].v:"",d="",t[g]||(t[g]=[]),t[g][f]||(t[g][f]=""),j.indexOf(i)>-1&&(d=" ability"),t[g][f]+='<div class="stats-'+(f+1)+' stats-col">',t[g][f]+='<div class="stats'+d+'">',t[g][f]+='<div class="stats-bar">',t[g][f]+='<div class="stats-bar-value" style="width:'+k+'%;"></div>',t[g][f]+="</div>",t[g][f]+='<div class="stats-value">',t[g][f]+="<span>"+k+"</span>",t[g][f]+="</div>",t[g][f]+="</div>",t[g][f]+="</div>";t[g]&&(t[g]='<div class="stats-row"><div class="stats-label stats-col">'+e[i]+"</div>"+t[g].join("")+"</div>")}else for(f=0;f<l;f++)k=null!==b.rows[f].c[g]?b.rows[f].c[g].v:"",c=a.getDescHTML(i,k),s[f]=s[f]?s[f]:'<div class="desc-col" id="compare-'+(f+1)+'">'+m+"</div>",s[f]=s[f].replace("{"+i.toLowerCase()+"}",c);o.innerHTML='<div class="versus">vs</div>'+s.join(""),p.innerHTML=t.join(""),n.appendChild(o),n.appendChild(p),a.getBackButton(o,"compare"),a.addClass(r,"hidden"),q.appendChild(n)},a.quickViewRow=function(b){var c=b.currentTarget,d=c.parentNode.parentNode,e=d.nextElementSibling;e.className.indexOf("hidden")>-1?(a.removeClass(e,"hidden"),c.children[0].className="icon-chevron-up"):(a.addClass(e,"hidden"),c.children[0].className="icon-chevron-down")},a.processRow=function(b){var c,d,e;c=b.currentTarget,d=c.parentNode.parentNode,e="SElECT * WHERE "+f.id+' = "'+d.getAttribute("data-id")+'"',m=!0,l=!1,a.requestData(e)},a.hasClassRow=function(a){return"team"===a||"type"===a||"position"===a||"lineup"===a},a.addEvent=function(a,b,c,d){(b||b.length>0)&&(b.addEventListener?b.addEventListener(a,c,d):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c)},a.triggerEvent=function(a,b){var c=document.createEvent("HTMLEvents");c.initEvent(a,!0,!1),b.dispatchEvent(c)},a.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},a.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},a.empty=function(a){return""===a||a===!1||null===a},a.ucWords=function(a){return a=a.toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()}),a.indexOf("Lebron")>-1&&(a=a.replace("Lebron","LeBron")),a},"loading"!==document.readyState?a.init():document.addEventListener("DOMContentLoaded",a.init),String.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})},a}(window);