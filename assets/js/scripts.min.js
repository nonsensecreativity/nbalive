window.nba=function(){"use strict";var a={},b="1fteH6HOqQXmgMnAhhek0W6_BDvVMNlBu25SCCNruYbc",c="724315897",d="https://docs.google.com/spreadsheets/d/"+b+"/gviz/tq?tqx=out:json&gid="+c,e={AGL:"Agility",CLT:"Clutch",CND:"Conditioning",COE:"Closeout Effectiveness",CTS:"Contested Shot",CTV:"Court Vision",DBE:"Defensive Boxout Effectiveness",DBS:"Dribble Speed",DDF:"Drawing Defensive Foul",DEF:"Defense",DKR:"Dunk Rating",DLF:"Dunk vs Layup Frequency",DOF:"Drawing Offensive Foul",DPF:"Defensive Post Footwork",DPS:"Defensive Post Strength",DRI:"Dribbling",DRQ:"Defensive Rebounding IQ",DRS:"Defensive Rebounding Strength",DSE:"Defensive Sink or Swim Effectiveness",DTA:"Double Team Ability",DTC:"Double Team Composure",DVG:"Dribble Off vs Go Away from Pick",FBA:"Fast Break Anticipation",FMT:"Foul Mistakes",FSS:"First Step",FTA:"Free Throw Ability",FTS:"Fight Through Screen",GTG:"Go-To Guy",HDF:"Help Defense",HES:"Hedging the Screen",HIP:"Hands in Post",HOP:"Hands on Perimeter",HSE:"Help Side Effectiveness",HST:"Hustle",INT:"Interception",ISA:"Inside Shooting Ability",ISL:"Inside Shooting Likelihood",LDA:"Layup Dunk Aggressiveness",LIT:"Layup in Traffic",MSA:"Midrange Shooting Ability",MSL:"Midrange Shooting Likelihood",MTT:"Mental Toughness",OBE:"Offensive Boxout Effectiveness",OEF:"On Ball Effectiveness",OPF:"Offensive Post Footwork",ORQ:"Offensive Rebounding IQ",ORS:"Offensive Rebounding Strength",OSE:"Offensive Sink or Swim Effectiveness",OSL:"Outside Shooting Likelihood",PAS:"Passing",PEF:"Penetration Effectiveness",PSA:"Pass Accuracy",PST:"Post Strength",PTS:"Post Savvy",PVD:"Pull Up vs Drive to Basket",QKN:"Quickness",SBL:"Shot Block",SHT:"Shooting",SMT:"Shooters Mentality",SPD:"Speed",SSK:"Shot Streak",STA:"Shot Alter",STK:"Streak",STL:"Steal",STR:"Strength",STS:"Setting Screens",STT:"Shooting Touch",SWC:"Scoring with Contact",TEN:"Tenacity",TPT:"3 Pointer",TTE:"Triple Threat Effectiveness",VERT:"Vertical"},f={name:"A",pos:"B",team:"C",type:"G",program:"H",lineup:"I",ovr:"M",spd:"N",dri:"O",tpt:"P",sht:"Q",def:"R",pas:"S"},g="nbalive_excl_stats",h="nbalive_compare",i="nbalive_query",j=["SPD","DRI","TPT","SHT","DEF","PAS"],k=!1;return a.init=function(){var b=cookie.get(g),c=cookie.get(i);cookie.set(h,JSON.stringify({})),b||cookie.set(g,JSON.stringify({})),c||cookie.set(i,JSON.stringify({})),a.initTabs(),google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(a.gInit)},a.initTabs=function(){var b,c,d=document.querySelectorAll(".tab-nav li a");for(b=0,c=d.length;b<c;b++)a.addEvent("click",d[b],a.toggleTabNav,!1)},a.toggleTabNav=function(b){b.preventDefault();var c,d,e,f=this.parentElement.parentElement.querySelectorAll("a"),g=this.parentElement.getAttribute("id"),h=this.parentElement,i=document.getElementById(g.replace("tab-nav-",""));for(c=0,d=f.length;c<d;c++)a.removeClass(f[c].parentElement,"active"),e=document.getElementById(f[c].parentElement.getAttribute("id").replace("tab-nav-","")),a.removeClass(e,"active");a.addClass(h,"active"),a.addClass(i,"active")},a.addOptionsBox=function(){var b,c=JSON.parse(cookie.get(g)),d=document.querySelector("#options .tab-inner #switch");for(b in e){var f=document.createElement("div"),h=document.createElement("input"),i=document.createElement("label"),j=document.createElement("span"),k=document.createElement("span"),l=document.createElement("abbr");i.setAttribute("class","switch"),j.setAttribute("class","switch-label"),j.setAttribute("data-on","SHOW"),j.setAttribute("data-off","HIDE"),k.setAttribute("class","switch-handle"),h.setAttribute("type","checkbox"),h.setAttribute("value",b),h.setAttribute("name","options[]"),h.setAttribute("class","switch-input"),b in c==!1&&(h.checked=!0),f.setAttribute("class","switch-box"),l.setAttribute("title",e[b]),l.innerHTML=b,a.addEvent("change",h,a.checkOnChange,!1),i.appendChild(h),i.appendChild(j),i.appendChild(k),f.appendChild(l),f.appendChild(i),d.appendChild(f)}},a.checkOnChange=function(a){var b=JSON.parse(cookie.get(g)),c=a.currentTarget.value;!0===this.checked?c in b==!0&&delete b[c]:c in b==!1&&(b[c]=c),cookie.set(g,JSON.stringify(b))},a.gInit=function(){var b=cookie.get(i);k=!1,a.requestData(b.query?b.query:"");var c=document.getElementById("search-submit");a.addEvent("click",c,a.processForm,!1)},a.processForm=function(b){b.preventDefault();var c,d=new FormData(document.forms.namedItem("form")),e=document.getElementById("loader"),g=!1,h="SELECT A, B, C, G, I, M, N, O, P, Q, R, S",i={name:d.get("name"),ovr:[d.get("ovr_min"),d.get("ovr_max")],spd:d.get("spd_min"),dri:d.get("dri_min"),tpt:d.get("tpt_min"),sht:d.get("sht_min"),def:d.get("def_min"),pas:d.get("pas_min"),team:d.get("team"),lineup:d.get("lineup"),pos:d.get("pos"),type:d.get("type"),program:d.get("program"),orderby:d.get("orderby"),order:d.get("order")},j=["spd","dri","tpt","sht","def","pas"],l=document.getElementById("player-list"),m=document.getElementById("player-single");a.removeClass(e,"hidden"),m&&a.addClass(m,"hidden"),l&&a.addClass(l,"hidden");for(c in i)if(!1===a.empty(i[c]))if("order"===c)h+=" "+i[c];else if("orderby"===c)h+=" ORDER BY "+f[i[c]];else if(g?h+=" AND ":(h+=" WHERE ",g=!0),j.indexOf(c)>-1)h+=f[c]+" >= "+i[c];else if("ovr"===c){var n=i[c][0]?i[c][0]:0,o=i[c][1]?i[c][1]:100;h+=f.ovr+" >= "+n+" AND "+f.ovr+" <= "+o}else h+=f[c]+' CONTAINS "'+i[c]+'"';k=!1,a.requestData(h)},a.requestData=function(b){var c=document.getElementById("player-list"),e=document.getElementById("loader");c&&a.addClass(c,"hidden"),e&&a.removeClass(e,"hidden");var f=new google.visualization.Query(d);b=b?b:"SELECT A, B, C, G, I, M, N, O, P, Q, R, S",f.setQuery(b),f.send(a.buildResponse),k||cookie.set(i,JSON.stringify({query:b}))},a.buildResponse=function(b){if(b.isError())return void alert("Error in query: "+b.getMessage()+" "+b.getDetailedMessage());var c=b.getDataTable(),d=c.toJSON();k?a.buildTableSingle(JSON.parse(d)):a.buildTable(JSON.parse(d))},a.buildTable=function(b){var c,d,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w="",x="",y="";m=document.createElement("table"),m.setAttribute("id","player-list"),n=document.createElement("thead"),n.className="player-list-head",o=document.createElement("tbody"),o.className="player-list-body";for(g in b.cols)if("GAME OVR"===b.cols[g].label)w+="<th>OVERALL</th>";else{if(j.indexOf(b.cols[g].label)!==-1)continue;w+="<th>"+b.cols[g].label+"</th>"}for(w+="<th>COMPARE</th>",w+="<th></th>",n.innerHTML="<tr>"+w+"</tr>",h=0,k=b.rows.length;h<k;h++){for(x="",y="",v=b.rows[h].c.length-6,i=0,l=b.rows[h].c.length;i<l;i++)p=b.cols[i].label.toString().replace(" ","-"),q=null!==b.rows[h].c[i]?b.rows[h].c[i].v:"",i>=v?(y+='<div class="stats ability">',y+='<div class="stats-detail"><div class="stats-label">'+e[p]+"</div>",y+='<div class="stats-value">'+q+"</div></div>",y+='<div class="stats-bar">',y+='<div class="stats-bar-value" style="width:'+q+'%;"></div>',y+="</div></div>"):(x+='<td class="',x+=p.toLowerCase(),q?(x+=a.hasClassRow(p.toLowerCase())?" "+q.toString().toLowerCase().replace(" ","-")+'">':'">',x+="<span>"+q+"</span>"):x+='">',x+="</td>");t=a.getCompareAction(b.rows[h].c),u=a.getViewAction(),r=document.createElement("tr"),s=document.createElement("tr"),s.className="data hidden",s.innerHTML="<td colspan=8>"+y+"</td>",r.innerHTML=x,r.appendChild(t),r.appendChild(u),o.appendChild(r),o.appendChild(s)}m.appendChild(n),m.appendChild(o),c=document.querySelector(".content .inner"),f=document.getElementById("player-list"),d=document.getElementById("loader"),f&&c.removeChild(f),a.addClass(d,"hidden"),c.appendChild(m)},a.getViewAction=function(){var b,c,d,e;return d=document.createElement("td"),d.className="actions",b=document.createElement("a"),b.className="quick-view",b.innerHTML='<i class="icon-chevron-down"></i>',b.setAttribute("title","Quick View"),a.addEvent("click",b,a.quickViewRow,!0),c=document.createElement("a"),c.className="full-view",c.innerHTML='<i class="icon-eye"></i>',c.setAttribute("title","View Full Stats"),a.addEvent("click",c,a.processRow,!0),e=document.createElement("a"),e.className="compare hidden",e.innerHTML='<i class="icon-compare"></i>',e.setAttribute("title","View Comparison"),d.appendChild(b),d.appendChild(c),d.appendChild(e),d},a.getCompareAction=function(b){var c,d,e,f,g;return c=document.createElement("td"),c.className="compares",d=document.createElement("input"),d.className="compare",d.setAttribute("type","checkbox"),d.setAttribute("value",JSON.stringify(b)),d.setAttribute("name","compare[]"),d.setAttribute("class","switch-input"),e=document.createElement("label"),f=document.createElement("span"),g=document.createElement("span"),e.setAttribute("class","switch"),f.setAttribute("class","switch-label"),f.setAttribute("data-on","ON"),f.setAttribute("data-off","OFF"),g.setAttribute("class","switch-handle"),e.appendChild(d),e.appendChild(f),e.appendChild(g),c.appendChild(e),a.addEvent("click",d,a.addToCompare,!0),c},a.addToCompare=function(b){var c,d,e,f=b.currentTarget,g=JSON.parse(f.value),i=JSON.parse(cookie.get(h)),j=this.checked,k=!1,l=Object.keys(i).length;if(j)l<2?(this.setAttribute("data-id",l),i[l]=g,cookie.set(h,JSON.stringify(i)),Object.keys(i).length>=2&&!k&&(c=this.parentNode.parentNode.nextElementSibling,e=c.querySelector("a.compare"),e&&a.removeClass(e,"hidden"))):(b.preventDefault(),alert("Only can compare 2 players"),k=!0);else{if(delete i[this.getAttribute("data-id")],this.removeAttribute("data-id"),Object.keys(i).length>0){var m;i[1]?(i[0]=i[1],delete i[1],m=document.querySelector('[data-id="1"]'),d=m.parentNode.parentNode.nextElementSibling,c=d.querySelector(".compare"),m.setAttribute("data-id",0),a.addClass(c,"hidden")):(d=this.parentNode.parentNode.nextElementSibling,c=d.querySelector(".compare"),a.addClass(c,"hidden"))}cookie.set(h,JSON.stringify(i))}},a.buildTableSingle=function(b){var c,d,f,h,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y="",z=[];if(d=document.getElementById("loader"),c=document.querySelector(".content .inner"),k=document.createElement("div"),k.setAttribute("id","player-single"),l=document.createElement("div"),l.className="player-single-head",m=document.createElement("div"),m.className="player-single-body",b.rows){for(f=0,h=b.rows[0].c.length;f<h;f++)if(o=b.cols[f].label.toString().replace(" ","-"),p=null!==b.rows[0].c[f]?b.rows[0].c[f].v:"",e[o])j.indexOf(o)>-1&&z.indexOf(o)===-1?z.push(o):(i="",j.indexOf(o)>-1&&(i+=" ability"),n=JSON.parse(cookie.get(g)),o in n==!0&&(i+=" hidden"),y+='<div class="stats'+i+'">',y+='<div class="stats-detail"><div class="stats-label">'+e[o]+"</div>",y+='<div class="stats-value">'+p+"</div></div>",y+='<div class="stats-bar">',y+='<div class="stats-bar-value" style="width:'+p+'%;"></div>',y+="</div></div>");else switch(o.toLowerCase()){case"player-name":q='<h2 class="name">'+p+"</h2>";break;case"game-ovr":var A="bronze";parseInt(p)>83?A="elite":parseInt(p)>72?A="gold":parseInt(p)>62&&(A="silver"),r='<div class="ovr '+b.rows[0].c[6].v.toString().toLowerCase()+'">'+p+"</div>";break;case"position":s='<div class="position">'+p+"</div>";break;case"lineup":w='<div class="lineup '+p.toString().toLowerCase().replace(" ","-")+'">'+p+"</div>";break;case"team":v='<div class="team"><span class="stats-label">Team</span><span class="stats-value '+p.toString().toLowerCase()+'"></span></div>';break;case"wt":u='<div class="weight"><span class="stats-label">Weight</span><span class="stats-value">'+p+"</span></div>";break;case"ht":t='<div class="height"><span class="stats-label">Height</span><span class="stats-value">'+p+"</span></div>";break;case"program":x='<div class="program"><span class="stats-label">Program</span><span class="stats-value">'+p+"</span></div>";break;default:continue}l.innerHTML='<div class="pos-lineup">'+s+w+"</div>"+q+'<div class="desc">'+x+u+t+v+"</div>"+r}m.innerHTML=y,k.appendChild(l),k.appendChild(m),c.appendChild(k),a.addClass(d,"hidden")},a.quickViewRow=function(b){var c=b.currentTarget,d=c.parentNode.parentNode,e=d.nextElementSibling;e.className.indexOf("hidden")>-1?(a.removeClass(e,"hidden"),c.children[0].className="icon-chevron-up"):(a.addClass(e,"hidden"),c.children[0].className="icon-chevron-down")},a.processRow=function(b){var c,d,e,g,h,i,j,l,m,n,o,p;for(i=b.currentTarget,j=i.parentNode.parentNode,l=j.getElementsByTagName("td"),m=0,n=l.length;m<n;m++)if(o=l[m].firstElementChild)if(l[m].className.indexOf("player-name")>-1)c=o.textContent;else if(l[m].className.indexOf("team")>-1)d=o.textContent;else if(l[m].className.indexOf("position")>-1)e=o.textContent;else if(l[m].className.indexOf("game-ovr")>-1)h=o.textContent;else{if(!(l[m].className.indexOf("lineup")>-1))continue;g=o.textContent}p="SELECT * WHERE "+f.name+' = "'+c+'"',p+=" AND "+f.pos+' = "'+e+'"',p+=" AND "+f.lineup+' = "'+g+'"',p+=" AND "+f.ovr+" = "+parseInt(h),p+=" LIMIT 1",k=!0,a.requestData(p)},a.hasClassRow=function(a){return"team"===a||"type"===a||"position"===a||"lineup"===a},a.addEvent=function(a,b,c,d){(b||b.length>0)&&(b.addEventListener?b.addEventListener(a,c,d):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c)},a.triggerEvent=function(a,b){var c=document.createEvent("HTMLEvents");c.initEvent(a,!0,!1),b.dispatchEvent(c)},a.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},a.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},a.empty=function(a){return""===a||a===!1||null===a},"loading"!==document.readyState?a.init():document.addEventListener("DOMContentLoaded",a.init),a}(window);