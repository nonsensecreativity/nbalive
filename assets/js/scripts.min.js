window.nba=function(){"use strict";var a={},b="1fteH6HOqQXmgMnAhhek0W6_BDvVMNlBu25SCCNruYbc",c="724315897",d="https://docs.google.com/spreadsheets/d/"+b+"/gviz/tq?tqx=out:json&gid="+c,e={AGL:"Agility",CLT:"Clutch",CND:"Conditioning",COE:"Closeout Effectiveness",CTS:"Contested Shot",CTV:"Court Vision",DBE:"Defensive Boxout Effectiveness",DBS:"Dribble Speed",DDF:"Drawing Defensive Foul",DEF:"Defense",DKR:"Dunk Rating",DLF:"Dunk vs Layup Frequency",DOF:"Drawing Offensive Foul",DPF:"Defensive Post Footwork",DPS:"Defensive Post Strength",DRI:"Dribbling",DRQ:"Defensive Rebounding IQ",DRS:"Defensive Rebounding Strength",DSE:"Defensive Sink or Swim Effectiveness",DTA:"Double Team Ability",DTC:"Double Team Composure",DVG:"Dribble Off vs Go Away from Pick",FBA:"Fast Break Anticipation",FMT:"Foul Mistakes",FSS:"First Step",FTA:"Free Throw Ability",FTS:"Fight Through Screen",GTG:"Go-To Guy",HDF:"Help Defense",HES:"Hedging the Screen",HIP:"Hands in Post",HOP:"Hands on Perimeter",HSE:"Help Side Effectiveness",HST:"Hustle",INT:"Interception",ISA:"Inside Shooting Ability",ISL:"Inside Shooting Likelihood",LDA:"Layup Dunk Aggressiveness",LIT:"Layup in Traffic",MSA:"Midrange Shooting Ability",MSL:"Midrange Shooting Likelihood",MTT:"Mental Toughness",OBE:"Offensive Boxout Effectiveness",OEF:"On Ball Effectiveness",OPF:"Offensive Post Footwork",ORQ:"Offensive Rebounding IQ",ORS:"Offensive Rebounding Strength",OSE:"Offensive Sink or Swim Effectiveness",OSL:"Outside Shooting Likelihood",PAS:"Passing",PEF:"Penetration Effectiveness",PSA:"Pass Accuracy",PST:"Post Strength",PTS:"Post Savvy",PVD:"Pull Up vs Drive to Basket",QKN:"Quickness",SBL:"Shot Block",SHT:"Shooting",SMT:"Shooters Mentality",SPD:"Speed",SSK:"Shot Streak",STA:"Shot Alter",STK:"Streak",STL:"Steal",STR:"Strength",STS:"Setting Screens",STT:"Shooting Touch",SWC:"Scoring with Contact",TEN:"Tenacity",TPT:"3 Pointer",TTE:"Triple Threat Effectiveness",VERT:"Vertical"},f={name:"A",pos:"B",team:"C",type:"G",program:"H",lineup:"I",ovr:"M",spd:"N",dri:"O",tpt:"P",sht:"Q",def:"R",pas:"S"},g="nbalive_excl_stats",h=["SPD","DRI","TPT","SHT","DEF","PAS"],i=!1;return a.init=function(){var b=cookie.get(g);b||cookie.set(g,JSON.stringify({})),a.initTabs(),a.addOptionsBox(),google.charts.load("current",{packages:["table"]}),google.charts.setOnLoadCallback(a.gInit)},a.initTabs=function(){var b,c,d=document.querySelectorAll(".tab-nav li a");for(b=0,c=d.length;b<c;b++)a.addEvent("click",d[b],a.toggleTabNav,!1)},a.toggleTabNav=function(b){b.preventDefault();var c,d,e,f=this.parentElement.parentElement.querySelectorAll("a"),g=this.parentElement.getAttribute("id"),h=this.parentElement,i=document.getElementById(g.replace("tab-nav-",""));for(c=0,d=f.length;c<d;c++)a.removeClass(f[c].parentElement,"active"),e=document.getElementById(f[c].parentElement.getAttribute("id").replace("tab-nav-","")),a.removeClass(e,"active");a.addClass(h,"active"),a.addClass(i,"active")},a.addOptionsBox=function(){var b,c=JSON.parse(cookie.get(g)),d=document.querySelector("#options .tab-inner #switch");for(b in e){var f=document.createElement("div"),h=document.createElement("input"),i=document.createElement("label"),j=document.createElement("span"),k=document.createElement("span"),l=document.createElement("abbr");i.setAttribute("class","switch"),j.setAttribute("class","switch-label"),j.setAttribute("data-on","SHOW"),j.setAttribute("data-off","HIDE"),k.setAttribute("class","switch-handle"),h.setAttribute("type","checkbox"),h.setAttribute("value",b),h.setAttribute("name","options[]"),h.setAttribute("class","switch-input"),b in c==!1&&(h.checked=!0),f.setAttribute("class","switch-box"),l.setAttribute("title",e[b]),l.innerHTML=b,a.addEvent("change",h,a.checkOnChange,!1),i.appendChild(h),i.appendChild(j),i.appendChild(k),f.appendChild(l),f.appendChild(i),d.appendChild(f)}},a.checkOnChange=function(a){var b=JSON.parse(cookie.get(g)),c=a.currentTarget.value;!0===this.checked?c in b==!0&&delete b[c]:c in b==!1&&(b[c]=c),cookie.set(g,JSON.stringify(b))},a.gInit=function(){i=!1,a.requestData("");var b=document.getElementById("search-submit");a.addEvent("click",b,a.processForm,!1)},a.processForm=function(b){b.preventDefault();var c,d=new FormData(document.forms.namedItem("form")),e=document.getElementById("loader"),g=!1,h="SELECT A, B, C, G, I, M",j={name:d.get("name"),ovr:[d.get("ovr_min"),d.get("ovr_max")],spd:d.get("spd_min"),dri:d.get("dri_min"),tpt:d.get("tpt_min"),sht:d.get("sht_min"),def:d.get("def_min"),pas:d.get("pas_min"),team:d.get("team"),lineup:d.get("lineup"),pos:d.get("pos"),type:d.get("type"),program:d.get("program"),orderby:d.get("orderby"),order:d.get("order")},k=["spd","dri","tpt","sht","def","pas"],l=document.getElementById("player-list"),m=document.getElementById("player-single");a.removeClass(e,"hidden"),m&&a.addClass(m,"hidden"),l&&a.addClass(l,"hidden");for(c in j)if(!1===a.empty(j[c]))if("order"===c)h+=" "+j[c];else if("orderby"===c)h+=" ORDER BY "+f[j[c]];else if(g?h+=" AND ":(h+=" WHERE ",g=!0),k.indexOf(c)>-1)h+=f[c]+" >= "+j[c];else if("ovr"===c){var n=j[c][0]?j[c][0]:0,o=j[c][1]?j[c][1]:100;h+=f.ovr+" >= "+n+" AND "+f.ovr+" <= "+o}else h+=f[c]+' CONTAINS "'+j[c]+'"';i=!1,a.requestData(h)},a.requestData=function(b){var c=new google.visualization.Query(d);b=b?b:"SELECT A, B, C, G, I, M",c.setQuery(b),c.send(a.buildResponse)},a.buildResponse=function(b){if(b.isError())return void alert("Error in query: "+b.getMessage()+" "+b.getDetailedMessage());var c=b.getDataTable(),d=c.toJSON();i?a.buildTableSingle(JSON.parse(d)):a.buildTable(JSON.parse(d))},a.buildTable=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p="",q="";k=document.createElement("table"),k.setAttribute("id","player-list"),l=document.createElement("thead"),l.className="player-list-head",m=document.createElement("tbody"),m.className="player-list-body";for(f in b.cols)p+="<td>"+b.cols[f].label+"</td>";for(l.innerHTML="<tr>"+p+"</tr>",g=0,i=b.rows.length;g<i;g++){for(q="",h=0,j=b.rows[g].c.length;h<j;h++)n=b.cols[h].label.toString().toLowerCase().replace(" ","-"),q+='<td class="',q+=n,null!==b.rows[g].c[h]?(q+=a.hasClassRow(n)?" "+b.rows[g].c[h].v.toString().toLowerCase().replace(" ","-")+'">':'">',q+="<span>"+b.rows[g].c[h].v+"</span>"):q+='">',q+="</td>";o=document.createElement("tr"),o.innerHTML=q,a.addEvent("click",o,a.processRow,!0),m.appendChild(o)}k.appendChild(l),k.appendChild(m),c=document.querySelector(".content .inner"),e=document.getElementById("player-list"),d=document.getElementById("loader"),e&&c.removeChild(e),a.addClass(d,"hidden"),c.appendChild(k)},a.buildTableSingle=function(b){var c,d,f,g,i,j,k,l,m,n,o="",p="",q=[];if(j=document.getElementById("player-list"),d=document.getElementById("loader"),j&&a.addClass(j,"hidden"),j&&a.removeClass(d,"hidden"),c=document.querySelector(".content .inner"),console.log(l,o),k=document.createElement("div"),k.setAttribute("id","player-single"),m=document.createElement("div"),m.className="player-single-body",console.log(b.rows),b.rows)for(f=h.length,g=b.rows[0].c.length;f<g;f++)n=b.cols[f].label.toString().replace(" ","-"),e[n]&&(h.indexOf(n)>-1&&q.indexOf(n)===-1?q.push(n):(i=h.indexOf(n)>-1?" ability":"",p+='<div class="stats'+i+'">',p+='<div class="stats-detail"><div class="stats-label">'+e[n]+"</div>",p+='<div class="stats-value">'+b.rows[0].c[f].v+"</div></div>",p+='<div class="stats-bar">',p+='<div class="stats-bar-value" style="width:'+b.rows[0].c[f].v+'%;"></div>',p+="</div></div>"));m.innerHTML=p,k.appendChild(m),c.appendChild(k),a.addClass(d,"hidden")},a.processRow=function(b){var c,d,e,g,h,j,k,l,m,n,o;for(j=b.currentTarget,k=j.getElementsByTagName("td"),l=0,m=k.length;l<m;l++)if(n=k[l].firstElementChild)if(k[l].className.indexOf("player-name")>-1)c=n.textContent;else if(k[l].className.indexOf("team")>-1)d=n.textContent;else if(k[l].className.indexOf("position")>-1)e=n.textContent;else if(k[l].className.indexOf("game-ovr")>-1)h=n.textContent;else{if(!(k[l].className.indexOf("lineup")>-1))continue;g=n.textContent}o="SELECT * WHERE "+f.name+' = "'+c+'"',o+=" AND "+f.pos+' = "'+e+'"',o+=" AND "+f.lineup+' = "'+g+'"',o+=" AND "+f.ovr+" = "+parseInt(h),o+=" LIMIT 1",i=!0,a.requestData(o)},a.hasClassRow=function(a){return"team"===a||"type"===a||"position"===a||"lineup"===a},a.addEvent=function(a,b,c,d){(b||b.length>0)&&(b.addEventListener?b.addEventListener(a,c,d):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c)},a.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},a.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},a.empty=function(a){return""===a||a===!1||null===a},"loading"!==document.readyState?a.init():document.addEventListener("DOMContentLoaded",a.init),a}(window);